import{C as V,w as C}from"./task-9f4d3ea0.js";import{d as k,x as b,r as F,c as h,a as y,b as o,e as n,h as c,t as i,i as w,w as g,F as u,f as S,O as T,_ as B}from"./index-638858df.js";const $=["onClick"],N=k({__name:"TextSelect",props:{keyField:{default:"value"},textField:{default:"text"},modelValue:{},options:{default:()=>[]}},emits:["update:modelValue"],setup(r,{emit:d}){const e=r,p=b(),f=new V(function(){console.log(this),this.isCancel=!1}),t=F({popupVisible:!1}),a=h({get:()=>e.modelValue,set(s){d("update:modelValue",s)}}),_=()=>{t.popupVisible=!0},m=async()=>{await C(140,f),t.popupVisible=!1},x=s=>{a.value=s,t.popupVisible=!1};return(s,z)=>{const v=y("popup");return o(),n(u,null,[c("div",{ref_key:"$el",ref:p,class:"form-text-select",onFocus:_,onBlur:m,tabindex:"-1"},[c("span",null,i(a.value[e.textField]),1)],544),w(v,{visible:t.popupVisible,anchor:p.value,class:"form-text-select-popup"},{default:g(()=>[(o(!0),n(u,null,S(e.options,l=>(o(),n("div",{onClick:D=>x(l),class:T(["form-text-select-option",{selected:a.value[e.keyField]==l[e.keyField]}])},[c("span",null,i(l[e.textField]),1)],10,$))),256))]),_:1},8,["visible","anchor"])],64)}}});const L=B(N,[["__scopeId","data-v-ea869ff6"]]);export{L as default};
