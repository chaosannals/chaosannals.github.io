import{ad as M,av as q,a5 as L,d as F,x as C,r as A,m as D,ai as N,an as U,b3 as X,ae as $,i as l,aO as G,ac as J,aD as K,as as Q,ak as Y,b,c as R,w as t,F as Z,h as ee,b4 as te,O as ae,e as u,a0 as v,t as k,p as se,j as ne,_ as oe}from"./index-e227146f.js";import{B as le}from"./index-75b16952.js";import{L as ie,T as ce,C as re}from"./index-a4f1e8bd.js";import{u as de}from"./use-touch-c4dd6a8e.js";const[ue,B]=M("swipe-cell"),fe={name:q(""),disabled:Boolean,leftWidth:L,rightWidth:L,beforeClose:Function,stopPropagation:Boolean};var pe=F({name:ue,props:fe,emits:["open","close","click"],setup(a,{emit:f,slots:_}){let n,p,g,r;const d=C(),h=C(),y=C(),s=A({offset:0,dragging:!1}),m=de(),i=e=>e.value?G(e).width:0,w=D(()=>N(a.leftWidth)?+a.leftWidth:i(h)),x=D(()=>N(a.rightWidth)?+a.rightWidth:i(y)),S=e=>{s.offset=e==="left"?w.value:-x.value,n||(n=!0,f("open",{name:a.name,position:e}))},T=e=>{s.offset=0,n&&(n=!1,f("close",{name:a.name,position:e}))},H=e=>{const o=Math.abs(s.offset),c=.15,z=n?1-c:c,I=e==="left"?w.value:x.value;I&&o>I*z?S(e):T(e)},O=e=>{a.disabled||(g=s.offset,m.start(e))},j=e=>{if(a.disabled)return;const{deltaX:o}=m;m.move(e),m.isHorizontal()&&(p=!0,s.dragging=!0,(!n||o.value*g<0)&&J(e,a.stopPropagation),s.offset=K(o.value+g,-x.value,w.value))},P=()=>{s.dragging&&(s.dragging=!1,H(s.offset>0?"left":"right"),setTimeout(()=>{p=!1},0))},W=(e="outside",o)=>{r||(f("click",e),n&&!p&&(r=!0,Q(a.beforeClose,{args:[{event:o,name:a.name,position:e}],done:()=>{r=!1,T(e)},canceled:()=>r=!1,error:()=>r=!1})))},V=(e,o)=>c=>{o&&c.stopPropagation(),!p&&W(e,c)},E=(e,o)=>{const c=_[e];if(c)return l("div",{ref:o,class:B(e),onClick:V(e,!0)},[c()])};return U({open:S,close:T}),X(d,e=>W("outside",e),{eventName:"touchstart"}),$("touchmove",j,{target:d}),()=>{var e;const o={transform:`translate3d(${s.offset}px, 0, 0)`,transitionDuration:s.dragging?"0s":".6s"};return l("div",{ref:d,class:B(),onClick:V("cell",p),onTouchstartPassive:O,onTouchend:P,onTouchcancel:P},[l("div",{class:B("wrapper"),style:o},[E("left",h),(e=_.default)==null?void 0:e.call(_),E("right",y)])])}}});const ge=Y(pe);const _e=a=>(se("data-v-34281458"),a=a(),ne(),a),he={class:"shop-car-page"},me={class:"tag-column"},ve={class:"tag-row"},Ce=_e(()=>u("span",null,"删除",-1)),ye=F({__name:"CarPage",setup(a){const f=C(!1),_=C(!1),n=C([]),p=async()=>{await te(1e3);for(let g=0;g<10;g++)n.value.push(n.value.length+1);f.value=!1,n.value.length>=40&&(_.value=!0)};return(g,r)=>{const d=ce,h=le,y=re,s=ge,m=ie;return b(),R("div",he,[l(m,{loading:f.value,"onUpdate:loading":r[0]||(r[0]=i=>f.value=i),finished:_.value,"finished-text":"没有更多了",onLoad:p},{default:t(()=>[(b(!0),R(Z,null,ee(n.value,i=>(b(),ae(s,{class:"car-item",key:i},{right:t(()=>[l(h,{square:"",type:"danger"},{default:t(()=>[Ce]),_:1})]),default:t(()=>[l(y,{thumb:"https://fastly.jsdelivr.net/npm/@vant/assets/ipad.jpeg"},{tag:t(()=>[u("div",me,[l(d,{mark:"",type:"primary"},{default:t(()=>[v("标签")]),_:1}),l(d,{mark:"",type:"primary"},{default:t(()=>[v("标签2")]),_:1})])]),tags:t(()=>[u("div",ve,[l(d,{plain:"",type:"primary"},{default:t(()=>[v("标签1")]),_:1}),l(d,{plain:""},{default:t(()=>[v("标签2")]),_:1})])]),title:t(()=>[u("span",null,"标题"+k(i),1)]),desc:t(()=>[u("p",null,[u("span",null,"商品描述 "+k(i),1)])]),price:t(()=>[u("span",null,"￥"+k(i.toFixed(2)),1)]),num:t(()=>[u("span",null,"x"+k(i),1)]),footer:t(()=>[l(h,{size:"mini"},{default:t(()=>[v("按钮")]),_:1}),l(h,{size:"mini"},{default:t(()=>[v("按钮")]),_:1})]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["loading","finished"])])}}});const be=oe(ye,[["__scopeId","data-v-34281458"]]);export{be as default};
