var f=Object.defineProperty;var m=(s,e,o)=>e in s?f(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o;var p=(s,e,o)=>(m(s,typeof e!="symbol"?e+"":e,o),o);import{d as v,k as _,c as b,r as C,o as V,a as w,s as x,K as y,g as T,L as g,y as B,w as I,e as $,I as h,_ as k}from"./index-f225ac4a.js";class D{constructor(e=()=>{}){p(this,"isCancel",!1);p(this,"onCancel");this.onCancel=e.bind(this)}}async function F(s,e){return new Promise(o=>{setTimeout(()=>{e.isCancel?e.onCancel():o(null)},s)})}const N={class:"form-text-input"},P=v({__name:"TextInput",props:{modelValue:{}},emits:["update:modelValue"],setup(s,{emit:e}){const o=s,u=new D(function(){console.log(this),this.isCancel=!1}),n=_({popupVisible:!1}),i=b({get(){return o.modelValue},set(a){e("update:modelValue",a)}}),c=()=>{n.popupVisible=!0},r=async()=>{await F(400,u),n.popupVisible=!1};return(a,t)=>{const d=C("popup");return V(),w("div",N,[x(T("input",g({"onUpdate:modelValue":t[0]||(t[0]=l=>i.value=l)},a.$attrs,{onFocus:c,onBlur:r}),null,16),[[y,i.value]]),B(d,{class:"form-text-input-popup",visible:n.popupVisible,anchor:a.$el,onFocus:t[1]||(t[1]=l=>$(u).isCancel=!0),onBlur:t[2]||(t[2]=l=>n.popupVisible=!1)},{default:I(()=>[h(a.$slots,"default",{done:()=>n.popupVisible=!1},void 0,!0)]),_:3},8,["visible","anchor"])])}}});const L=k(P,[["__scopeId","data-v-b22b44f2"]]);export{L as default};
