import{d as k,u as b,r as v,c as x,o as w,a as A,b as n,e as r,F as d,f as u,p as H,g as M,h as o,t as l,i as C,w as I,j as S,_ as L}from"./index-638858df.js";import{f as P,W as B,U}from"./enc-utf8-c0b49f16.js";import{M as $,m as j,H as m}from"./index-02335bfa.js";import{f as F}from"./index-c4405eea.js";const p=c=>(H("data-v-51154b2c"),c=c(),M(),c),N={class:"index-page"},T=p(()=>o("h4",null,"页面",-1)),V=["onClick"],W=p(()=>o("h4",null,"博文",-1)),D={class:"modify-time"},E=["innerHTML"],J=k({__name:"IndexPage",setup(c){const _=new $(j({langPrefix:"hljs language-",highlight(a,s){const t=m.getLanguage(s)?s:"plaintext";return m.highlight(a,{language:t}).value}})),h=b(),i=v({blogs:[]}),g=x(()=>S.map(a=>a.path)),f=async a=>{const s=await P(a,100),t=B.create(s.buffer),e=U.stringify(t);return await _.parse(e)};w(async()=>{const a=[{path:"/blogs/about-cmake.md",title:"关于 CMake",createAt:1697079369363,modifyAt:1697095041094},{path:"/blogs/about-web-frontend.md",title:"关于网页前端",createAt:1697003946683,modifyAt:1697006021407}].map(async t=>(t.url=`/blog?path=${t.path}`,t.mtime=F(t.modifyAt,"yyyy-MM-dd HH:ii:ss"),t.summary=await f(t.path),t)),s=await Promise.all(a);i.blogs=s.sort((t,e)=>t.modifyAt-e.modifyAt)});const y=a=>h.push(a);return(a,s)=>{const t=A("router-link");return n(),r("div",N,[T,(n(!0),r(d,null,u(g.value,e=>(n(),r("div",{onClick:R=>y(e),class:"page-link"},[o("span",null,l(e),1)],8,V))),256)),W,(n(!0),r(d,null,u(i.blogs,e=>(n(),r("div",null,[C(t,{to:e.url,class:"blog-link"},{default:I(()=>[o("span",null,l(e.title),1),o("span",D,l(e.mtime),1)]),_:2},1032,["to"]),o("div",{class:"blog-summary",innerHTML:e.summary},null,8,E)]))),256))])}}});const O=L(J,[["__scopeId","data-v-51154b2c"]]);export{O as default};
