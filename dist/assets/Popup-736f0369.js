import{d as u,q as _,h,c as v,z as y,A as b,B as x,w as m,C as g,o as P,a as w,D as B,E as $,_ as C}from"./index-f57da5e2.js";const k=u({__name:"Popup",props:{visible:{type:Boolean},anchor:{}},emits:["update:visible"],setup(c,{emit:p}){const e=c;function r(o){let s=o.offsetLeft-o.scrollLeft,t=o.offsetTop-o.scrollTop;const l=o.offsetWidth,d=o.offsetHeight;if(o.offsetParent){const i=r(o.offsetParent);s+=i.x,t+=i.y}return{x:s,y:t,width:l,height:d}}const a=_(),n=h({transform:"translate(0px, 0px)",transition:"transform .1s"}),f=v({get:()=>e.visible,set:o=>p("update:visible",o)});return y(()=>{document.body.appendChild(a.value)}),b(()=>{document.body.removeChild(a.value)}),x(()=>e.visible,(o,s)=>{if(e.anchor){const t=r(e.anchor);n.transform=`translate(${t.x}px, ${t.y+t.height}px)`,console.log("anchor",t,n)}}),(o,s)=>m((P(),w("div",{ref_key:"$el",ref:a,class:"popup",style:$(n),tabindex:"-1"},[B(o.$slots,"default",{},void 0,!0)],4)),[[g,f.value]])}});const z=C(k,[["__scopeId","data-v-ae2c3db1"]]);export{z as default};
