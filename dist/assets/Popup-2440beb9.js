import{d as u,B as _,k as v,c as h,D as y,E as b,G as x,s as m,H as g,o as P,a as B,I as $,J as k,_ as w}from"./index-f225ac4a.js";const C=u({__name:"Popup",props:{visible:{type:Boolean},anchor:{}},emits:["update:visible"],setup(c,{emit:p}){const e=c;function r(o){let s=o.offsetLeft-o.scrollLeft,t=o.offsetTop-o.scrollTop;const l=o.offsetWidth,d=o.offsetHeight;if(o.offsetParent){const i=r(o.offsetParent);s+=i.x,t+=i.y}return{x:s,y:t,width:l,height:d}}const a=_(),n=v({transform:"translate(0px, 0px)",transition:"transform .1s"}),f=h({get:()=>e.visible,set:o=>p("update:visible",o)});return y(()=>{document.body.appendChild(a.value)}),b(()=>{document.body.removeChild(a.value)}),x(()=>e.visible,(o,s)=>{if(e.anchor){const t=r(e.anchor);n.transform=`translate(${t.x}px, ${t.y+t.height}px)`,console.log("anchor",t,n)}}),(o,s)=>m((P(),B("div",{ref_key:"$el",ref:a,class:"popup",style:k(n),tabindex:"-1"},[$(o.$slots,"default",{},void 0,!0)],4)),[[g,f.value]])}});const S=w(C,[["__scopeId","data-v-ae2c3db1"]]);export{S as default};
