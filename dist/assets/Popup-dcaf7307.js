import{d as u,z as _,r as v,c as h,C as b,D as y,E as x,q as m,G as g,b as P,e as $,H as w,I as B,_ as C}from"./index-ccc8b050.js";const k=u({__name:"Popup",props:{visible:{type:Boolean},anchor:{}},emits:["update:visible"],setup(c,{emit:p}){const e=c;function r(o){let s=o.offsetLeft-o.scrollLeft,t=o.offsetTop-o.scrollTop;const l=o.offsetWidth,d=o.offsetHeight;if(o.offsetParent){const i=r(o.offsetParent);s+=i.x,t+=i.y}return{x:s,y:t,width:l,height:d}}const a=_(),n=v({transform:"translate(0px, 0px)",transition:"transform .1s"}),f=h({get:()=>e.visible,set:o=>p("update:visible",o)});return b(()=>{document.body.appendChild(a.value)}),y(()=>{document.body.removeChild(a.value)}),x(()=>e.visible,(o,s)=>{if(e.anchor){const t=r(e.anchor);n.transform=`translate(${t.x}px, ${t.y+t.height}px)`,console.log("anchor",t,n)}}),(o,s)=>m((P(),$("div",{ref_key:"$el",ref:a,class:"popup",style:B(n),tabindex:"-1"},[w(o.$slots,"default",{},void 0,!0)],4)),[[g,f.value]])}});const S=C(k,[["__scopeId","data-v-ae2c3db1"]]);export{S as default};
